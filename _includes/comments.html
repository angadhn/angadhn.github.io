{% case site.comments.provider %}
  {% when "bluesky" %}
    <div id="bluesky-comments"></div>
  {% when "disqus" %}
    <div class="page__comments">
      <h4 class="page__comments-title">{{ comments_label }}</h4>
      <section id="disqus_thread"></section>
    </div>
{% endcase %}

<!-- Add Bluesky scripts at the bottom -->
{% if site.comments.provider == "bluesky" %}
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/bluesky-comments@latest/dist/bluesky-comments.umd.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize comments section
      if (document.getElementById('bluesky-comments')) {
        initBlueskyComments('bluesky-comments', { author: 'angadhn.com' });
      }
      // Initialize post link
      if (document.getElementById('bluesky-post-link')) {
        initBlueskyComments('bluesky-post-link', { 
          author: 'angadhn.com',
          mode: 'link-only'  // or whatever mode the widget supports for just showing the link
        });
      }
    });
  </script>
{% endif %}
